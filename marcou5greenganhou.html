<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<link rel="shortcut icon" type="image/jpg" href="https://raw.githubusercontent.com/karlos1980dev/AE-sport/refs/heads/main/IMG_20250818_074257.jpg">
    <link rel="icon" href="https://raw.githubusercontent.com/karlos1980dev/AE-sport/refs/heads/main/IMG_20250818_074257.jpg" type="image/jpg">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <title>MARCOU 5 VERDE GANHOU 200</title>
<style>
body { font-family: Arial, sans-serif; background:#222; color:white; text-align:center; margin-top:50px;}
.fundoCimar { padding:15px; background: purple; border-radius: 15px; margin:10px auto; max-width: 400px; }
#saldo { font-size:18px; color: gold; margin-bottom:10px; }
#numeros { display:grid; grid-template-columns: repeat(5,1fr); gap:5px; margin:10px auto; max-width: 350px; }
.btn { padding:8px; border-radius:5px; cursor:pointer; border:none; }
.btn.selected { background:black; color:white; }
.btn.blocked { background:red; color:white; font-weight:bold; }
.btn.acertou { background:green; color:white; font-weight:bold; }
#mensagem { margin:10px 0; font-weight:bold; color: gold; }
#verificar, #enviar, #ganhoTotal { padding:10px 20px; margin:5px; border:none; border-radius:10px; cursor:pointer; }
#verificar { background:#ff9800; color:white; }
#enviar { background:green; color:white; display:none; }
#ganhoTotal { background:gray; color:white; display:block; margin-bottom:10px; }
#ganhoTotal.habilitado { background:green; }
#modal { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); justify-content:center; align-items:center; }
#modal .modal-content { background:#fff; color:#000; padding:20px; border-radius:10px; max-width:300px; width:90%; text-align:left; }
#modal input { width:100%; margin:5px 0; padding:8px; border-radius:5px; border:1px solid #ccc; }
#modal button { background:green; color:white; padding:10px; border:none; border-radius:5px; cursor:pointer; width:100%; }.btn.ultimo {
    background: blue;
    color: white;
    font-weight: bold;
}
.corverder{
    color:green
}
#usarCodigo{
    border-radius:5px;
    padding:5px;
       text-align:center;
    margin:5px;
}

#codigoRecarga{
    border-radius:5px;
       text-align:center;
       padding:5px;
    margin:5px;
}
@media (max-width: 360px) {
  #numeros {
    grid-template-columns: repeat(auto-fit, minmax(32px, 1fr));
    gap: 3px;
  }
  .numeros {
    height: 32px;
    font-size: 12px;
  }
}
#pixModal {
  display: none;
  position: fixed;
  z-index: 9999;
  left: 0; top: 0;
  width: 100%; height: 500px;
  background: rgba(0,0,0,0.6);
}

#pixModal .modal-content {
  background: #fff;
  margin: 10% auto;
  padding: 20px;
  width: 300px;
  margin-top:100px;
  border-radius: 10px;
  text-align: center;
  position: relative;
}

.valor-btn {
  padding: 10px 15px;
  margin: 5px;
  background: #4CAF50;
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
}
.valor-btn:hover {
  background: #45a049;
}

#total {
  font-size: 20px;
  font-weight: bold;
  margin: 15px 0;
}

.pix-box {
  margin-top: 10px;
  padding: 10px;
  background: #000;
  border-radius: 5px;
  font-size: 16px;
  user-select: all;
}
.copy-btn {
  margin-top: 10px;
  padding: 8px 12px;
  background: #2196F3;
  color: white;
  border: none;
  border-radius: 5px;
  cursor: pointer;
}
.copy-btn:hover {
  background: #0b7dda;
}
.closePix {
  position: absolute;
  top: 10px;
  right: 20px;
  font-size: 25px;
  cursor: pointer;
}
   .credito{
         margin-left:5px;
         margin-top: 12px;
            background: green;
            color: white;
            padding:5px;
            border-radius:10px;
            font-weight:bold      
     }
     @keyframes pulse {
  0% { transform: scale(1); opacity: 1; }
  50% { transform: scale(1.5); opacity: 0.8; }
  100% { transform: scale(1); opacity: 1; }
}

.pulse-acerto {
  animation: pulse 0.6s ease-in-out;
}
 
</style>    
</head>
<body>

<div class="fundoCimar">
  
<div id="pixModal">
  <div class="modal-content">
    <span class="closePix">&times;</span>
    <h3 style="color:gold;">Selecione o valor</h3>
    
    <!-- Botões de valor -->
    <div id="valoresContainer">
        <a href="https://pixplay.netlify.app/pagamento">
      <button class="valor-btn" data-valor="2">01 CREDITOS</button></a><a href="https://pixplay.netlify.app/pagementos2codigo"><button class="valor-btn" data-valor="4">02 CREDITOS</button></a><a href="https://pixplay.netlify.app/pg3codigo"><button class="valor-btn" data-valor="6">03 CREDITOS</button></a><a href="https://pixplay.netlify.app/pg4codigo"><button class="valor-btn" data-valor="8">04 CREDITOS</button></a><a href="https://pixplay.netlify.app/pg5codigo"><button class="valor-btn" data-valor="10">05 CREDITOS</button></a><a href="https://mp-rif-online.netlify.app/codigo6"><button class="valor-btn" data-valor="12">06 CREDITOS</button></a><a href="https://mp-rif-online.netlify.app/codigo7"><button class="valor-btn" data-valor="14">07 CREDITOS</button></a><a href="https://mpago.la/1BAJDHP"><button class="valor-btn" data-valor="16">08 CREDITOS</button></a><a href="https://mpago.la/1crbp6X"><button class="valor-btn" data-valor="18">09 CREDITOS</button></a><a href="https://mpago.la/3417LdJ"><button class="valor-btn" data-valor="20">10 CREDITOS</button></a>
    </div>    

  </div>
</div>
<button id="refreshBtn" class="credito">COMPRAR CODIGO</button>
    <h2> MARCOU <span class="corverder"> 5 </span>GANHOU R$ 200.00</h2>
    
    <div style="display: flex; justify-content: space-between; align-items: center; width: 100%;">
    <button id="ganhoTotal">Ganhou: R$0,00</button>
    <div id="saldo">Saldo: R$ 0,00</div>
</div>
    
    <div>Digite um código para adicionar saldo:</div>
    <input type="text" id="codigoRecarga" placeholder="Digite seu código">
    <button id="usarCodigo">Usar Código</button>

  

    <div id="numeros"></div>

    <p id="contadorNumeros">Números selecionados: 0/15</p>
    <p id="mensagem"></p>

    <button id="verificar" disabled>JOGAR (R$2,00)</button>
    <button id="enviar">RECEBER O PRÊMIO</button>

</div>

<!-- Modal -->
<div id="modal">
  <div class="modal-content">
    <h3>Solicitar Ganho</h3>
    <label>Nome:</label>
    <input type="text" id="nomePix" placeholder="Seu nome">
    <label>Chave Pix:</label>
    <input type="text" id="chavePix" placeholder="Seu Pix">
    <p id="valorGanhoModal"></p>
    <button id="enviarWhats">Enviar para WhatsApp</button>
  </div>
</div>

<!-- Firebase SDK -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js";
import { getDatabase, ref, onValue, runTransaction, update } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-database.js";

// 🔹 Config Firebase
const firebaseConfig = {
  apiKey: "AIzaSyCqh1ZtEASGhNEK_8CbUiha9jPyqfwalA4",
  authDomain: "winx5-f4bd2.firebaseapp.com",
  databaseURL: "https://winx5-f4bd2-default-rtdb.firebaseio.com",
  projectId: "winx5-f4bd2",
  storageBucket: "winx5-f4bd2.firebasedastorage.app",
  messagingSenderId: "539880532364",
  appId: "1:539880532364:web:c75b0d6ac32fc6ce830ea9"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);

// 🔹 Gerar ou pegar ID único do usuário
let userId = localStorage.getItem("userId");
if (!userId) {
    userId = "user_" + Date.now();
    localStorage.setItem("userId", userId);
}

const saldoRef = ref(db, `usuarios/${userId}`);

// 🔹 Variáveis do jogo
let saldo = 0;
let ganhoTotal = 0;
let numerosSelecionados = [];
let numerosBloqueados = [];
let bloqueado = false;
const custoPorJogo = 2.00;
const valorAcerto = 200;

// 🔹 Recupera LocalStorage
let localData = JSON.parse(localStorage.getItem("dadosUsuario")) || {};
if (localData.saldo !== undefined) saldo = parseFloat(localData.saldo);
if (localData.ganhoTotal !== undefined) ganhoTotal = parseFloat(localData.ganhoTotal);

// 🔹 Códigos de recarga
const codigosRecarga = {
  
  50: ["716412153","592315254","846882055","14081980","195668863","653096775","504350967","635551900","286671414","732888663"],
  40: ["217565915","919970433","284338878","101696967","702396412","229654598","874019901","621211661","336075929","485986855"],
  30: ["739656665","465396613","189768712","112988692","966044328","595658876","109617524","899800853","755223289","960909265"],
  20: ["446224300","394127636","812879696","960907901","491988845","249227981","956544659","349657658","840757999","217686050"],
  10: ["691539990","811999999","108784816","313505599","806528892","366228475","716094154","592329855","846668856","504376968"],
  9:  ["874016501","621216611","336090029","485980155","635598520","286682714","732880863","195658864","653677588","129458885"],
  8:  ["956535449","003496558","840776999","217612050","739668765","466345913","189763212","112967892","904432228","595665576"],
  7:  ["673207857","209122886","487021875","337834018","596597700","387881988","978833855","699939986","767384776","560098455"],
  6:  ["673275057","209651886","487029815","337808818","596588000","367871988","309878266","317746674","507846878","999297605"],
  5:  ["986476586","443438756","978638855","699975986","767388776","005600455","647728866","878863675","441365796","965878855"],
  4:  ["109613224","899876853","755228449","960976265","216594315","919098433","284337448","101697667","702397612","229654599"],
  3:  ["309821966","317663274","507683478","929766405","446224553","394128836","887963496","960901271","491987745","249212271"],
  2:  ["647720986","878867473","441379896","987877855","691997690","811977999","108488516","313503399","806521292","366222275"],
  1:  ["teste1336263","teste00001123","teste0062526","teste97288863000","teste62527883","teste4425252517"]
};

// 🔹 Códigos usados
let codigosUsados = JSON.parse(localStorage.getItem("codigosUsados") || "[]");

// 🔹 Sincroniza Firebase e LocalStorage
onValue(saldoRef, snapshot => {
    const data = snapshot.val();
    if (data) {
        saldo = parseFloat(data.saldo || 0);
        ganhoTotal = parseFloat(data.ganhoTotal || 0);
        codigosUsados = data.codigosUsados ? [...new Set(data.codigosUsados)] : codigosUsados;
    } else {
        update(saldoRef, { saldo:0, ganhoTotal:0, codigosUsados: [] });
        saldo = 0;
        ganhoTotal = 0;
    }
    salvarLocalStorage();
    atualizarPainel();
    criarBotoes();
});

// 🔹 Salvar localStorage
function salvarLocalStorage() {
    localStorage.setItem("dadosUsuario", JSON.stringify({ saldo, ganhoTotal }));
    localStorage.setItem("codigosUsados", JSON.stringify(codigosUsados));
}

// 🔹 Atualizar painel
function atualizarPainel() {
    document.getElementById("saldo").innerText = `Saldo: R$ ${saldo.toFixed(2).replace('.',',')}`;
    document.getElementById("ganhoTotal").innerText = `Ganho Total: R$${ganhoTotal}`;
    document.getElementById("verificar").disabled = saldo < custoPorJogo || numerosSelecionados.length !== 15;
}

// 🔹 Criar botões de números
function criarBotoes() {
    const container = document.getElementById("numeros");
    container.innerHTML = '';
    for(let i=1;i<=50;i++){
        let btn = document.createElement("button");
        btn.classList.add("btn");
        btn.innerText = i;
        btn.id = `num${i}`;
        btn.onclick = () => selecionarNumero(i);

        if(numerosBloqueados.includes(i) && !numerosSelecionados.includes(i)) btn.classList.add("blocked");
        if(numerosSelecionados.includes(i)) btn.classList.add("selected");
        if(numerosSelecionados.includes(i) && numerosBloqueados.includes(i)) btn.classList.add("acertou");
        if(numerosSelecionados.length === 15 && i === numerosSelecionados[numerosSelecionados.length - 1]) btn.classList.add("ultimo");

        container.appendChild(btn);
    }
}

// 🔹 Selecionar número
function selecionarNumero(num) {
    if(bloqueado) return;
    if(numerosSelecionados.includes(num)){
        numerosSelecionados = numerosSelecionados.filter(n => n!==num);
    } else if(numerosSelecionados.length < 15){
        numerosSelecionados.push(num);
    }
    document.getElementById("contadorNumeros").innerText = `Números selecionados: ${numerosSelecionados.length}/15`;
    criarBotoes();
    atualizarPainel();
}

// 🔹 Usar código de recarga
document.getElementById("usarCodigo").addEventListener("click", () => {
    const codigo = document.getElementById("codigoRecarga").value.trim();
    if (!codigo) { alert("Digite um código."); return; }
    if (codigosUsados.includes(codigo)) { alert("Este código já foi usado!"); return; }

    let codigoValido = false;

    for (const valor in codigosRecarga) {
        codigosRecarga[valor] = [...new Set(codigosRecarga[valor])]; // remove duplicidade
        if (codigosRecarga[valor].includes(codigo)) {
            runTransaction(ref(db, `usuarios/${userId}`), current => {
                if (!current) current = { saldo:0, ganhoTotal:0, codigosUsados: [] };
                current.saldo = (parseFloat(current.saldo) || 0) + parseFloat(valor);
                if (!current.codigosUsados) current.codigosUsados = [];
                current.codigosUsados.push(codigo);
                return current;
            }).then(() => {
                saldo += parseFloat(valor);
                codigosUsados.push(codigo);
                salvarLocalStorage();
                atualizarPainel();
                criarBotoes();
                document.getElementById("codigoRecarga").value = "";
                alert(`Código válido! Saldo adicionado: R$ ${valor}`);
            }).catch(err => { console.error(err); alert("Erro ao usar o código."); });

            codigoValido = true;
            break;
        }
    }

    if(!codigoValido) alert("Código inválido.");
});

// 🔹 Verificar jogada
// Função para aplicar animação pulse
function pulsarElemento(element) {
    element.classList.remove("pulse-acerto"); // remove caso já tenha
    void element.offsetWidth; // força reflow
    element.classList.add("pulse-acerto"); // adiciona novamente
}

// 🔹 Verificar jogada
function verificar() {
    if (saldo < custoPorJogo || numerosSelecionados.length !== 15) return;
    bloqueado = true;

    runTransaction(saldoRef, current => { if(current) current.saldo -= custoPorJogo; return current; });

    numerosBloqueados = [];
    while(numerosBloqueados.length<5){
        let n = Math.floor(Math.random()*50)+1;
        if(!numerosBloqueados.includes(n)) numerosBloqueados.push(n);
    }

    let acertos = numerosSelecionados.filter(n => numerosBloqueados.includes(n)).length;

    // Marca os botões acertados
    numerosSelecionados.forEach(num => {
        const btn = document.getElementById(`num${num}`);
        if(numerosBloqueados.includes(num)){
            btn.classList.add("acertou"); // verde
            pulsarElemento(btn); // animação sempre que tiver verde
        }
    });

    if(acertos > 0){
        document.getElementById("mensagem").innerText = `Acertos: ${acertos}`;
        ganhoTotal = acertos === 5 ? valorAcerto : 0;
        if(acertos === 5){
            document.getElementById("ganhoTotal").classList.add("habilitado");
            pulsarElemento(document.getElementById("ganhoTotal")); // anima botão ganhou
        }
        document.getElementById("enviar").style.display = acertos === 5 ? "block" : "none";
    } else {
        document.getElementById("mensagem").innerText = "Tente novamente.";
        document.getElementById("enviar").style.display = "none";
    }

    atualizarPainel();

    // Reset após 5 segundos
    setTimeout(()=>{
        numerosSelecionados = [];
        numerosBloqueados = [];
        bloqueado = false;
        criarBotoes();
        document.getElementById("contadorNumeros").innerText = "Números selecionados: 0/15";
        document.getElementById("mensagem").innerText = "";
        document.getElementById("enviar").style.display = "none";
        runTransaction(saldoRef, current => { if(current) current.ganhoTotal = 0; return current; });
        atualizarPainel();
    },5000);
}
// 🔹 Modal e envio WhatsApp
const modal = document.getElementById("modal");

document.getElementById("ganhoTotal").addEventListener("click", () => {
    if(ganhoTotal>0){
        document.getElementById("valorGanhoModal").innerText = `Valor disponível: R$${ganhoTotal}`;
        modal.style.display = "flex";
    } else alert("Você precisa ganhar algum valor para sacar.");
});

document.getElementById("enviarWhats").addEventListener("click", ()=>{
    const nome = document.getElementById("nomePix").value.trim();
    const pix = document.getElementById("chavePix").value.trim();
    if(nome==="" || pix===""){ alert("Preencha todos os campos."); return; }

    const mensagem = `PIX: ${pix}\nNome: ${nome}\nValor Ganho: R$${ganhoTotal}`;
    window.open("https://api.whatsapp.com/send?phone=5571992290058&text="+encodeURIComponent(mensagem), "_blank");

    modal.style.display = "none";
    ganhoTotal = 0;
    runTransaction(saldoRef, current=>{ if(current) current.ganhoTotal=0; return current; });
    salvarLocalStorage();
    atualizarPainel();
});

// 🔹 Eventos principais
document.getElementById("verificar").addEventListener("click", verificar);
document.getElementById("enviar").addEventListener("click", () => {
    numerosSelecionados = [];
    numerosBloqueados = [];
    criarBotoes();
});
document.addEventListener('DOMContentLoaded', function() {
    const pixModal = document.getElementById("pixModal");
    const refreshBtn = document.getElementById("refreshBtn");
    const closePix = document.querySelector(".closePix");
    const botoesValor = document.querySelectorAll(".valor-btn");
    let total = 0;

    // Função para abrir modal
    function abrirPixModal() {
        pixModal.style.display = "flex";
    }

    // Função para fechar modal
    function fecharPixModal() {
        pixModal.style.display = "none";
        total = 0;
        const totalEl = document.getElementById("total");
        if(totalEl) totalEl.textContent = "Total: R$ 0";
    }

    // Abrir modal ao clicar no botão COMPRAR CODIGO
    refreshBtn.addEventListener("click", (e)=>{
        e.preventDefault();
        abrirPixModal();
    });

    // Fechar modal ao clicar no X
    closePix.addEventListener("click", ()=>{
        fecharPixModal();
    });

    // Fechar modal ao clicar fora da modal
    window.addEventListener("click", (e)=>{
        if(e.target === pixModal) fecharPixModal();
    });

    // Ao clicar nos botões de valor, abrir link do Pix
    botoesValor.forEach(btn => {
        btn.addEventListener("click", () => {
            const valor = btn.getAttribute("data-valor");
            total = parseInt(valor);
            // Redireciona para link do Pix correspondente
            const link = btn.parentElement.querySelector("a")?.href;
            if(link) window.open(link, "_blank");
            // Mostra o valor total (opcional)
            const totalEl = document.getElementById("total");
            if(totalEl) totalEl.textContent = `Total: R$ ${total}`;
        });
    });
});
</script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
<a href="https://wa.me/5571992290058?text=pagamento%20liberacao%20codigo%20de%20Acesso%0Achave%20pix:%20telefone%0A71992290058%0ACarlos Santos Reis%0Avalor%20por%20codigo%20R$%202.00%0AEnvia%20O%20Comprovante" style="position:fixed;width:35px;height:35px;bottom:20px;right:20px;color:#25d366;border-radius:50px;text-align:center;font-size:30px;
  z-index:1000;" target="_blank">
<i style="margin-top:16px" class="fa fa-whatsapp"></i></a>
</body>
</html>
